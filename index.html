<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>儿童中文闪卡音频库</title>
    <style>
        :root { --bg-paper: #fdfbf7; --color-person: #0cc0df; --color-place: #ffde59; --color-action: #ff6b6b; --text-main: #4a4a4a; }
        body { background-color: var(--bg-paper); font-family: "PingFang SC", "Microsoft YaHei", sans-serif; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        h1 { text-align: center; margin: 20px 0 10px; font-size: 1.2rem; opacity: 0.8; color: #555; }
        
        /* 顶部导航 */
        .nav-tabs { display: flex; justify-content: center; gap: 8px; padding: 10px 10px; position: sticky; top: 0; background: rgba(253, 251, 247, 0.98); z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.02); }
        .tab-btn { flex: 1; padding: 10px 0; border: none; background: #eee; border-radius: 10px 10px 4px 4px; font-size: 0.95rem; font-weight: bold; color: #999; cursor: pointer; transition: 0.2s; }
        .tab-btn.active[data-type="person"] { background: var(--color-person); color: white; transform: translateY(-2px); }
        .tab-btn.active[data-type="place"] { background: var(--color-place); color: #5a4a00; transform: translateY(-2px); }
        .tab-btn.active[data-type="action"] { background: var(--color-action); color: white; transform: translateY(-2px); }
        
        /* 内容区 */
        .content-area { padding: 10px 10px 60px; max-width: 600px; margin: 0 auto; }
        .category-section { display: none; } .category-section.active { display: block; animation: fadeIn 0.4s ease; }
        .vol-title { margin: 20px 0 10px; padding-left: 8px; font-size: 0.85rem; font-weight: bold; opacity: 0.7; border-left: 4px solid #ddd; color: var(--text-main); }
        [data-type="person"] .vol-title { border-color: var(--color-person); }
        [data-type="place"] .vol-title { border-color: var(--color-place); }
        [data-type="action"] .vol-title { border-color: var(--color-action); }
        
        /* --- 核心修改：一行 4 个 --- */
        .grid-container { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); /* 这里改成了4 */
            gap: 8px; /* 间距改小 */
        }
        
        /* 卡片样式 */
        .word-card { 
            aspect-ratio: 1; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            background: white; 
            border: 2px solid transparent; 
            cursor: pointer; 
            position: relative; 
            box-shadow: 2px 3px 6px rgba(0,0,0,0.03); 
            border-radius: 12px; /* 圆角稍微改小一点适配小格子 */
            transition: transform 0.1s; 
            user-select: none;
            padding: 2px;
            text-align: center;
        }
        .word-card:active { transform: scale(0.92); }
        .word-card.playing { animation: pulse 1s infinite; border-width: 2px; }
        
        /* 文字排版 - 适配小格子 */
        .cn-text { font-size: 1.05rem; font-weight: bold; margin-bottom: 2px; line-height: 1.1; } /* 中文稍微改小 */
        .en-text { font-size: 0.65rem; opacity: 0.8; font-weight: normal; line-height: 1.0; word-wrap: break-word; overflow: hidden; } /* 英文改小 */

        /* 分类配色 */
        .person-card { border-color: var(--color-person); color: #008ba3; background: #f4fcff; }
        .place-card { border-color: var(--color-place); color: #8a7000; background: #fffdf5; }
        .action-card { border-color: var(--color-action); color: #c93434; background: #fff5f5; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>
    <h1>EEZMANDARIN 音频库</h1>
    <div class="nav-tabs">
        <button class="tab-btn active" onclick="switchTab('person')" data-type="person">人物</button>
        <button class="tab-btn" onclick="switchTab('place')" data-type="place">地点</button>
        <button class="tab-btn" onclick="switchTab('action')" data-type="action">动作</button>
    </div>
    
    <div class="content-area">
        <div id="person-panel" class="category-section active" data-type="person"></div>
        <div id="place-panel" class="category-section" data-type="place"></div>
        <div id="action-panel" class="category-section" data-type="action"></div>
    </div>

    <script>
        // --- 核心数据配置 ---
        const DB = {
            person: { 
                styleClass: 'person-card', 
                vols: [
                    { 
                        title: "VOL.01 日常生活 · Family & Friends", 
                        words: [
                            {cn:"爸爸", en:"Dad"}, {cn:"妈妈", en:"Mom"}, {cn:"哥哥", en:"Older Bro"}, {cn:"姐姐", en:"Older Sis"},
                            {cn:"弟弟", en:"Younger Bro"}, {cn:"妹妹", en:"Younger Sis"}, {cn:"爷爷", en:"Grandpa"}, {cn:"奶奶", en:"Grandma"},
                            {cn:"老师", en:"Teacher"}, {cn:"小朋友", en:"Child"}, {cn:"小猫", en:"Kitten"}, {cn:"小狗", en:"Puppy"}
                        ] 
                    },
                    { 
                        title: "VOL.02 城市英雄 · Heroes & Hobbies", 
                        words: [
                            {cn:"医生", en:"Doctor"}, {cn:"护士", en:"Nurse"}, {cn:"厨师", en:"Chef"}, {cn:"警察", en:"Police"},
                            {cn:"司机", en:"Driver"}, {cn:"农夫", en:"Farmer"}, {cn:"消防员", en:"Firefighter"}, {cn:"运动员", en:"Athlete"},
                            {cn:"快递员", en:"Courier"}, {cn:"服务员", en:"Server"}, {cn:"游客", en:"Tourist"}, {cn:"画家", en:"Painter"}
                        ] 
                    },
                    { 
                        title: "VOL.03 奇幻冒险 · Magic & Monsters", 
                        words: [
                            {cn:"王子", en:"Prince"}, {cn:"公主", en:"Princess"}, {cn:"怪兽", en:"Monster"}, {cn:"海盗", en:"Pirate"},
                            {cn:"恐龙", en:"Dinosaur"}, {cn:"外星人", en:"Alien"}, {cn:"骑士", en:"Knight"}, {cn:"巫师", en:"Wizard"},
                            {cn:"小丑", en:"Clown"}, {cn:"魔术师", en:"Magician"}, {cn:"宇航员", en:"Astronaut"}, {cn:"超级英雄", en:"Superhero"}
                        ] 
                    }
                ]
            },
            place: { 
                styleClass: 'place-card', 
                vols: [
                    { 
                        title: "VOL.01 日常生活 · Daily Life", 
                        words: [
                            {cn:"家", en:"Home"}, {cn:"客厅", en:"Living Room"}, {cn:"卧室", en:"Bedroom"}, {cn:"厨房", en:"Kitchen"},
                            {cn:"卫生间", en:"Bathroom"}, {cn:"阳台", en:"Balcony"}, {cn:"餐厅", en:"Dining Room"}, {cn:"书房", en:"Study Room"},
                            {cn:"幼儿园", en:"Kindergarten"}, {cn:"教室", en:"Classroom"}, {cn:"花园", en:"Garden"}, {cn:"门口", en:"Doorway"}
                        ] 
                    },
                    { 
                        title: "VOL.02 城市英雄 · City Places", 
                        words: [
                            {cn:"医院", en:"Hospital"}, {cn:"警察局", en:"Police Stn"}, {cn:"消防站", en:"Fire Stn"}, {cn:"电影院", en:"Cinema"},
                            {cn:"图书馆", en:"Library"}, {cn:"游乐场", en:"Playground"}, {cn:"游泳池", en:"Pool"}, {cn:"超市", en:"Supermarket"},
                            {cn:"饭店", en:"Restaurant"}, {cn:"商场", en:"Mall"}, {cn:"公园", en:"Park"}, {cn:"书店", en:"Bookstore"}
                        ] 
                    },
                    { 
                        title: "VOL.03 奇幻冒险 · Adventure", 
                        words: [
                            {cn:"动物园", en:"Zoo"}, {cn:"海边", en:"Seaside"}, {cn:"森林", en:"Forest"}, {cn:"太空", en:"Space"},
                            {cn:"城堡", en:"Castle"}, {cn:"山顶", en:"Mountaintop"}, {cn:"天空", en:"Sky"}, {cn:"山洞", en:"Cave"},
                            {cn:"海底", en:"Under Sea"}, {cn:"农场", en:"Farm"}, {cn:"沙漠", en:"Desert"}, {cn:"雪地", en:"Snowfield"}
                        ] 
                    }
                ]
            },
            action: { 
                styleClass: 'action-card', 
                vols: [
                    { 
                        title: "VOL.01 日常生活 · Daily Actions", 
                        words: [
                            {cn:"吃饭", en:"Eat"}, {cn:"喝水", en:"Drink"}, {cn:"睡觉", en:"Sleep"}, {cn:"刷牙", en:"Brush Teeth"},
                            {cn:"洗脸", en:"Wash Face"}, {cn:"洗手", en:"Wash Hands"}, {cn:"洗澡", en:"Bath"}, {cn:"上厕所", en:"Toilet"},
                            {cn:"看书", en:"Read"}, {cn:"写作业", en:"Homework"}, {cn:"玩游戏", en:"Play Games"}, {cn:"看电视", en:"Watch TV"}
                        ] 
                    },
                    { 
                        title: "VOL.02 城市英雄 · Hobbies & Jobs", 
                        words: [
                            {cn:"工作", en:"Work"}, {cn:"看病", en:"See Doctor"}, {cn:"开车", en:"Drive"}, {cn:"做饭", en:"Cook"},
                            {cn:"画画儿", en:"Draw"}, {cn:"唱歌", en:"Sing"}, {cn:"跳舞", en:"Dance"}, {cn:"听音乐", en:"Music"},
                            {cn:"打电话", en:"Call"}, {cn:"骑车", en:"Ride Bike"}, {cn:"买东西", en:"Shop"}, {cn:"扫地", en:"Sweep"}
                        ] 
                    },
                    { 
                        title: "VOL.03 奇幻冒险 · Active Fun", 
                        words: [
                            {cn:"跑步", en:"Run"}, {cn:"游泳", en:"Swim"}, {cn:"踢球", en:"Football"}, {cn:"滑雪", en:"Ski"},
                            {cn:"聊天", en:"Chat"}, {cn:"过生日", en:"Birthday"}, {cn:"飞", en:"Fly"}, {cn:"大笑", en:"Laugh"},
                            {cn:"爬树", en:"Climb Tree"}, {cn:"放屁", en:"Fart"}, {cn:"变魔术", en:"Magic"}, {cn:"抱抱", en:"Hug"}
                        ] 
                    }
                ]
            }
        };

        // --- 渲染函数 ---
        function renderAll() {
            ['person', 'place', 'action'].forEach(type => {
                const container = document.getElementById(type + '-panel');
                const data = DB[type];
                let html = '';
                data.vols.forEach(vol => {
                    html += `<div class="vol-title">${vol.title}</div><div class="grid-container">`;
                    vol.words.forEach(item => { 
                        html += `
                        <div class="word-card ${data.styleClass}" onclick="playAudio('${item.cn}', this)">
                            <div class="cn-text">${item.cn}</div>
                            <div class="en-text">${item.en}</div>
                        </div>`; 
                    });
                    html += `</div>`;
                });
                container.innerHTML = html;
            });
        }

        // --- 切换 Tab ---
        function switchTab(type) {
            document.querySelectorAll('.tab-btn').forEach(btn => { btn.classList.remove('active'); if(btn.dataset.type === type) btn.classList.add('active'); });
            document.querySelectorAll('.category-section').forEach(sec => sec.classList.remove('active'));
            document.getElementById(type + '-panel').classList.add('active');
        }

        // --- 播放逻辑 ---
        let currentAudio = null, currentBtn = null;
        function playAudio(word, btn) {
            if (currentAudio) { currentAudio.pause(); currentAudio.currentTime = 0; if(currentBtn) currentBtn.classList.remove('playing'); }
            btn.classList.add('playing'); currentBtn = btn;
            
            const audio = new Audio(`audio/${word}.mp3`);
            currentAudio = audio;
            audio.play().catch(e => { console.log("Missing: " + word); btn.classList.remove('playing'); });
            audio.onended = () => { btn.classList.remove('playing'); currentAudio = null; };
        }
        
        renderAll();
    </script>
</body>
</html>
